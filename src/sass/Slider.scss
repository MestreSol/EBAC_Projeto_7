// Reset

* {
	&, &:before, &:after {
		background: none;
		position: relative;
		padding: 0;
		border: 0;
		margin: 0;
		outline: 0;
		box-shadow: none;
	}
}
a, input, button, select, textarea {
	transition: all .3s ease;
}
#background {
    object-fit: cover;
	position: absolute;
	top: 0;
	left: 0;
	height: 100%;
	width: 100%;
	overflow: hidden;
	opacity: .3;
	transform: translateZ(0);
	&:after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		height: 100%;
		width: 100%;
		opacity: .3;
		mix-blend-mode: color;
	}
	.image {
		$w: 2200px;
		$h: 1000px;
		position: absolute;
		top: 50%;
		left: 50%;
		height: $h;
		width: $w;
		margin-top: $h*-0.5;
		margin-left: $w*-0.5;
		filter: grayscale(100%) blur(1px);
	}
}

#content {
	height: 100vh;
	overflow: hidden;
}

.movie-card {
	display: inline-block;
	vertical-align: top;
	perspective: 100vmax;
	img {
		width: 280px;
		transform-style: preserve-3d;
		image-rendering: -moz-crisp-edges;
		image-rendering: -moz-crisp-edges;
		image-rendering: -o-crisp-edges;
		image-rendering: -webkit-optimize-contrast;
		-ms-interpolation-mode: nearest-neighbor;
	}
	.description {
		text-align: left;
		position: absolute;
		top: 100%;
		left: 0;
		width: 100%;
		overflow: hidden;
		> * {
			display: block;
			padding: 20px/4 0;
		}
		.title {
			width: 250px;
		}
		.cast {
			font-size: 10px;
			width: 200px;
			opacity: .8;
		}
	}
}

[data-section] {
	position: absolute;
	top: 0;
	left: 0;
	height: 100%;
	width: 100%;
	overflow: hidden;
	pointer-events: none;
	&[data-section="s1"] {
		filter: grayscale(100%);
	}
	&[data-active-section] {
		pointer-events: all;
	}
	> * {
		text-align: center;
		position: absolute;
		top: 50%;
		left: 0;
		width: 100%;
		max-height: 100%;
		transform: translateY(-50%);
	}
}
[data-section-arrow] {
	position: absolute;
	top: 50%;
	height: 20px*4;
	width: 20px*2;
	margin-top: 20px*-2;
	overflow: hidden;
	cursor: pointer;
	opacity: .7;
	transition: opacity .3s ease;
	&:hover {
		opacity: 1;
	}
	&:before {
		content: "";
		position: absolute;
		top: 0;
		left: 50%;
		height: 20px*4;
		width: 20px*4;
		border: solid 1px #fff;
		transform: rotate(45deg);
	}
	&:after {
    background: #f00;
    content: "";
    position: absolute;
    top: 5px;
    right: 0;
    height: 1px;
    width: 1px;
    transform: rotate(-45deg) scaleX(10);
		display: none;
	}
}
[data-section-arrow="prev"] {
	left: 20px;
}
[data-section-arrow="next"] {
	right: 20px;
	transform: rotate(180deg);
}


// Animation

#background .image {
	transition: all 2s ease-in-out;
	transform: scale(.9) translateX(-10px);
	will-change: transform;
	[data-current-section="s2"] & {
		transform: scale(.95) translateX(0);
	}
	[data-current-section="s3"] & {
		transform: scale(1) translateX(10px);
	}
}

#background:after {
	transition: all 1.5s ease-in-out;
	[data-current-section="s1"] & {
		background: #000;
	}
	[data-current-section="s2"] & {
		background: #7f0c0d;
	}
	[data-current-section="s3"] & {
		background: #22adb3;
	}
}

.movie-card {
	transform: scale(0.8) translateX(-100px);
	transition: all .4s ease;
	transition-delay: .7s;
	will-change: transform;
	[data-active-section] & {
		transform: scale(1);
		transition-delay: 1s;
	}
}


.movie-card img {
	box-shadow: 0 0 0 0 rgba(0,0,0,0.4);
	opacity: 0;
	transform: rotateY(10deg);
	transition: all .5s ease-out;
	transition-delay: .3s;
	will-change: transform;
	[data-active-section] & {
		box-shadow: 0 0 20px*2 0 rgba(0,0,0,0.4);
		opacity: 1;
		transform: none;
		transition-delay: 1s;
	}
}

.movie-card .description {
	width: 0;
	transition: all .5s linear;
	transition-delay: 0s;
	[data-active-section] & {
		width: 100%;
		transition-delay: 1.6s;
	}
}